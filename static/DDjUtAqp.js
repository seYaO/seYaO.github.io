import{_ as Y,a as tt}from"./DjWPbrsF.js";import et from"./DC5zo1Gf.js";import{d as B,v as st,x as at,y as G,z as U,A,B as ot,C as nt,o as a,b as u,D as it,e,E as p,G as L,h as t,m as _,l as f,H as w,g as l,j as N,t as v,i as m,n as O,I as rt,u as lt,J as ct,K as dt,w as D,a as pt,f as ut,_ as _t,r as j,F as T,q as mt,p as ft,k as gt}from"./D8y-KZTn.js";import{_ as yt}from"./qc6VDBX0.js";import ht from"./CL9QqI1O.js";import kt from"./DlEf700y.js";import{_ as vt}from"./BGg6ho0p.js";import xt from"./CtxPz6_s.js";import{_ as bt}from"./DCgZfD9T.js";const $t=m("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1),wt=B({inheritAttrs:!1,__name:"PageCard",props:{...st,title:{type:String,default:void 0},description:{type:String,default:void 0},icon:{type:String,default:void 0},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(i){const r={wrapper:"relative group",to:"hover:ring-2 hover:ring-primary-500 dark:hover:ring-primary-400 hover:bg-gray-100/50 dark:hover:bg-gray-800/50",icon:{wrapper:"mb-6 flex",base:"w-10 h-10 flex-shrink-0 text-primary"},body:{base:"flex-1"},title:"text-gray-900 dark:text-white text-base font-semibold truncate flex items-center gap-1.5",description:"text-[15px] text-gray-500 dark:text-gray-400 mt-1"},o=i,c=at(),{ui:n,attrs:g}=G("page.card",U(o,"ui"),r,U(o,"class"),!0),x=A(()=>ot(o)),C=A(()=>(o.title||c.title&&nt(c.title())||"Card link").trim());return(s,y)=>{const h=O,k=rt,b=kt;return a(),u(b,L({class:[t(n).wrapper,s.to&&t(n).to]},t(g),{ui:t(n)}),it({default:e(()=>[s.to?(a(),u(h,L({key:0,"aria-label":t(C)},t(x),{class:"focus:outline-none",tabindex:"-1"}),{default:e(()=>[$t]),_:1},16,["aria-label"])):_("",!0),i.icon||s.$slots.icon?(a(),f("div",{key:1,class:w(t(n).icon.wrapper)},[p(s.$slots,"icon",{},()=>[l(k,{name:i.icon,class:w(t(n).icon.base)},null,8,["name","class"])])],2)):_("",!0),i.title||s.$slots.title?(a(),f("p",{key:2,class:w(t(n).title)},[p(s.$slots,"title",{},()=>[N(v(i.title),1)])],2)):_("",!0),i.description||s.$slots.description?(a(),f("p",{key:3,class:w(t(n).description)},[p(s.$slots,"description",{},()=>[N(v(i.description),1)])],2)):_("",!0),p(s.$slots,"default")]),_:2},[s.$slots.header?{name:"header",fn:e(()=>[p(s.$slots,"header")]),key:"0"}:void 0,s.$slots.footer?{name:"footer",fn:e(()=>[p(s.$slots,"footer")]),key:"1"}:void 0]),1040,["class","ui"])}}}),Ut=B({inheritAttrs:!1,__name:"PageGrid",props:{class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(i){const r={wrapper:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-8"},o=i,{ui:c,attrs:n}=G("page.grid",U(o,"ui"),r,U(o,"class"),!0);return(g,x)=>(a(),f("div",L({class:t(c).wrapper},t(n)),[p(g.$slots,"default")],16))}}),Ct={class:"mt-4 flex flex-wrap items-center gap-6"},Lt={class:"flex items-center justify-between gap-3"},Bt={class:"text-gray-500 dark:text-gray-400"},Pt=m("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1),St={class:"hidden lg:block space-y-6"},It=B({__name:"index",async setup(i){var b,P;let r,o;const c=lt(),{categoryLinks:n}=ct(),{fetchList:g,articles:x,latest:C,total:s}=dt(),{data:y}=([r,o]=D(()=>ut(c.path,()=>mt(c.path).findOne(),"$TFet9GVZs4")),r=await r,o(),r),h=((b=y.value.head)==null?void 0:b.title)||y.value.title,k=((P=y.value.head)==null?void 0:P.description)||y.value.description;return pt({titleTemplate:"%s",title:h,description:k,ogDescription:k,ogTitle:h}),[r,o]=D(()=>g()),await r,o(),(S,At)=>{const V=Y,z=et,F=O,I=yt,q=ht,E=wt,H=Ut,R=tt,J=vt,K=xt,M=bt,Z=ft,Q=_t;return a(),u(Q,null,{default:e(()=>[l(V,{title:t(h),description:t(k),ui:{headline:"flex flex-col gap-y-8 items-start"}},{default:e(()=>[m("div",Ct,"最近的"+v(t(C))+"篇文章（共"+v(t(s))+"篇）",1)]),_:1},8,["title","description"]),l(Z,null,{right:e(()=>[l(M,null,{bottom:e(()=>[m("div",St,[l(J,{title:"分类",links:t(n)},null,8,["links"]),l(K,{type:"dashed"})])]),_:1})]),default:e(()=>[l(R,null,{default:e(()=>[l(H,null,{default:e(()=>[(a(!0),f(T,null,j(t(x),(d,W)=>(a(),u(E,{key:W,to:d._path,title:d.title,description:d.description,class:"flex flex-col overflow-hidden",ui:{divide:"",header:{base:"aspect-w-4 aspect-h-2",padding:""},footer:{padding:"pt-0"},title:"text-lg",description:"line-clamp-2"}},{icon:e(()=>[l(z,{label:d.category,variant:"subtle"},null,8,["label"])]),footer:e(()=>[m("div",Lt,[m("time",Bt,v(("formatDateByLocale"in S?S.formatDateByLocale:t(gt))("zh-CN",d.date)),1),d.authors?(a(),u(q,{key:0,size:"xs"},{default:e(()=>[(a(!0),f(T,null,j(d.authors,($,X)=>(a(),u(I,{key:X,src:$.avatarUrl,alt:$.name,class:"lg:hover:scale-110 lg:hover:ring-primary-500 dark:lg:hover:ring-primary-400 transition-transform"},{default:e(()=>[$.link?(a(),u(F,{key:0,to:$.link,target:"_blank",class:"focus:outline-none",tabindex:"-1"},{default:e(()=>[Pt]),_:2},1032,["to"])):_("",!0)]),_:2},1032,["src","alt"]))),128))]),_:2},1024)):_("",!0)])]),_:2},1032,["to","title","description"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}});export{It as default};
