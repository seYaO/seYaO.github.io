import{P as v,Q as B,R as O,S as L,d as S,T as j,y as _,z as y,o as m,l as b,F as E,r as N,H as d,h as e,i as x,t as H,U as R,b as V,m as C,G as T,V as q,L as z,A as F,E as I,g as w,I as M}from"./D8y-KZTn.js";const P=()=>{const t=v(),o=v([]),l=v([]),i=a=>{a.forEach(s=>{const u=s.target.id;s.isIntersecting?o.value=[...o.value,u]:o.value=o.value.filter(p=>p!==u)})},n=a=>{a.forEach(s=>{t.value&&t.value.observe(s)})};return B(o,(a,s)=>{a.length===0?l.value=s:l.value=a}),O(()=>t.value=new IntersectionObserver(i)),L(()=>{var a;return(a=t.value)==null?void 0:a.disconnect()}),{visibleHeadings:o,activeHeadings:l,updateHeadings:n}},D=["href","onClick"],U=S({inheritAttrs:!1,__name:"ContentTocLinks",props:{links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},emits:["move"],setup(t,{emit:o}){const l={wrapper:"space-y-1",base:"block text-sm/6 truncate",active:"text-primary",inactive:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",depth:"ml-3"},i=t,n=o,a=j(),s=q(),{activeHeadings:u,updateHeadings:p}=P(),{ui:r,attrs:f}=_("content.toc.links",y(i,"ui"),l,y(i,"class"),!0);s.hooks.hookOnce("page:finish",()=>{p([...document.querySelectorAll("h2"),...document.querySelectorAll("h3")])});const h=g=>{const k=encodeURIComponent(g);a.push(`#${k}`),n("move",g)};return(g,k)=>{var A;const $=U;return(A=t.links)!=null&&A.length?(m(),b("ul",T({key:0,class:e(r).wrapper},e(f)),[(m(!0),b(E,null,N(t.links,c=>(m(),b("li",{key:c.text,class:d([e(r).wrapper,c.depth===3&&e(r).depth])},[x("a",{href:`#${c.id}`,class:d([e(r).base,e(u).includes(c.id)?e(r).active:e(r).inactive]),onClick:R(G=>h(c.id),["prevent"])},H(c.text),11,D),c.children?(m(),V($,{key:0,links:c.children},null,8,["links"])):C("",!0)],2))),128))],16)):C("",!0)}}}),J=S({inheritAttrs:!1,__name:"ContentToc",props:{title:{type:String,default:"Table of Contents"},links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:()=>({})}},setup(t){const o=z(),l=F(()=>({wrapper:"sticky top-[--header-height] bg-background/75 backdrop-blur -mx-4 sm:-mx-6 px-4 sm:px-6 lg:px-4 lg:-mx-4 overflow-y-auto max-h-[calc(100vh-var(--header-height))]",container:{base:"py-3 lg:py-8 border-b border-dashed border-gray-200 dark:border-gray-800 lg:border-0 space-y-3",empty:"lg:py-8 space-y-3"},button:{base:"flex items-center gap-1.5 lg:cursor-text lg:select-text w-full group",label:"font-semibold text-sm/6 truncate",trailingIcon:{name:o.ui.icons.chevron,base:"w-5 h-5 ms-auto transform transition-transform duration-200 flex-shrink-0 mr-1.5",active:"text-gray-700 dark:text-gray-200",inactive:"text-gray-500 dark:text-gray-400 group-hover:text-gray-700 dark:group-hover:text-gray-200 -rotate-90"}},links:{}})),i=t,{ui:n,attrs:a}=_("content.toc",y(i,"ui"),l,y(i,"class"),!0),s=v(!1);return(u,p)=>{var h,g;const r=M,f=U;return m(),b("nav",T({class:e(n).wrapper},e(a)),[x("div",{class:d([(h=t.links)!=null&&h.length?e(n).container.base:e(n).container.empty])},[I(u.$slots,"top"),(g=t.links)!=null&&g.length?(m(),b("button",{key:0,class:d(e(n).button.base),tabindex:"-1",onClick:p[0]||(p[0]=k=>s.value=!e(s))},[x("span",{class:d(e(n).button.label)},H(t.title),3),w(r,{name:e(n).button.trailingIcon.name,class:d(["lg:!hidden",[e(n).button.trailingIcon.base,e(s)?e(n).button.trailingIcon.active:e(n).button.trailingIcon.inactive]])},null,8,["name","class"])],2)):C("",!0),w(f,{links:t.links,ui:e(n).links,class:d([e(s)?"lg:block":"hidden lg:block"])},null,8,["links","ui","class"]),I(u.$slots,"bottom")],2)],16)}}});export{J as _};
